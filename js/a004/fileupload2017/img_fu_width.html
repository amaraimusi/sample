<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="google" content="notranslate" />
   	<meta http-equiv="X-UA-Compatible" content="IE=edge">
   	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>画像ファイルアップロード | 画像サイズ(width,height)を取得する</title>
	
	<link href="/note_prg/css/jquery-ui.min.css" rel="stylesheet">
	<link href="/note_prg/css/bootstrap.min.css" rel="stylesheet">
	<link href="/note_prg/css/common2.css" rel="stylesheet">

	<script src="/note_prg/js/jquery-1.11.1.min.js"></script>
	<script src="/note_prg/js/jquery-ui.min.js"></script>
	<script src="/note_prg/js/bootstrap.min.js"></script>
	

	<script>
	/*
	 * 画像ファイルアップロード | 画像サイズ(width,height)を取得する
	 * @date 2017-1-30
	 */
	$(function(){

		
		//ファイルアップロードイベント
		$('#file1').change(function(e) {
			
			var files = e.target.files;
			var oFile = files[0];

			var reader = new FileReader();
			reader.readAsDataURL(oFile);

			// データURLスキームを取得後に実行される処理
			reader.onload = function(evt) {

				
				// Imageオブジェクトを介して画像サイズ(width,height)を取得する
				var img = new Image;
				img.src = reader.result;
				img.onload = function() { 
					
					var msg = "width=" + img.width + "<br>" +
						"height=" + img.height;
					$('#res').html(msg);

				 };

			}
		});

	});
	</script>
	
</head>
<body>
<div id="header" ><h1>画像ファイルアップロード | 画像サイズ(width,height)を取得する</h1></div>
<div class="container">






アップロード中の画像サイズであるwidthとheightを取得する<br>
<br>
<input type="file" id="file1" />
<div id="res"></div>









<div class="yohaku"></div>
<ol class="breadcrumb">
	<li><a href="/">ホーム</a></li>
	<li><a href="/sample">サンプルソースコード</a></li>
	<li><a href="/sample/js">JavaScript ｜ サンプル</a></li>
	<li>画像ファイルアップロード | 画像サイズ(width,height)を取得する</li>
</ol>
</div><!-- content -->
<div id="footer">(C) kenji uehara 2017-1-30</div>
</body>
</html>