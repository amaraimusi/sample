<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
		<meta name="google" content="notranslate" />
		<title>ループ（スレッド）</title>
		<link rel="stylesheet" type="text/css" href="common1.css"  />
		<!--[if IE]><script type="text/javascript" src="excanvas.js"></script><![endif]-->
		<script>

		var canvas;
		var ctx;
		var i=0;
		onload = function() {
			  init();

			};

		function init(){
			  /* canvas要素のノードオブジェクト */
			  canvas = document.getElementById('canvassample');
			  /* canvas要素の存在チェックとCanvas未対応ブラウザの対処 */
			  if ( ! canvas || ! canvas.getContext ) {
			    return false;
			  }
			  /* 2Dコンテキスト */
			  ctx = canvas.getContext('2d');
		}
		function draw() {

			if(ctx==null){return null;}

			i++;
			if(i==300){
				i=0;
			}
		  /* 四角を描く */
		  ctx.beginPath();//描画宣言
		  ctx.moveTo(10, 10);//始点
		  ctx.lineTo(150, i);//次の線の点
		  ctx.lineTo(5, 160);
		  ctx.closePath();//線を閉じる
		  ctx.fillText("hello world! 日本"+i, 15, 50);
		  ctx.stroke();//描画する
		}



		function thread(time) {
			draw();
			requestAnimationFrame(thread);
		};

		requestAnimationFrame(thread);


		</script>

		<style type="text/css">

		</style>

	</head>
	<body>
		<div id="page1">
		<h1 id="header">ループ（スレッド）</h1>
		<div id="content" >

			JavaScriptのループ<br />

			<canvas id="canvassample" width="200" height="200"></canvas>

			<pre>
	function thread(time) {

		//～　内部処理　～

		requestAnimationFrame(thread);
	};

	requestAnimationFrame(thread);
			</pre>

		</div><!-- content -->
		<div id="footer">(C) kenji uehara 2014/05/12</div>
		</div><!-- page1 -->
	</body>
</html>